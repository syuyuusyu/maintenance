package test;

import com.bzh.cloud.maintenance.MaintenApplication;
import com.bzh.cloud.maintenance.config.PropertiesConf;
import com.bzh.cloud.maintenance.dao.AlarmDao;
import com.bzh.cloud.maintenance.dao.EntityConfDao;
import com.bzh.cloud.maintenance.dao.InvokeInfoDao;
import com.bzh.cloud.maintenance.entity.Alarm;
import com.bzh.cloud.maintenance.entity.InvokeInfo;
import com.bzh.cloud.maintenance.restFul.*;
import com.bzh.cloud.maintenance.util.SpringUtil;
import jdk.nashorn.api.scripting.ScriptObjectMirror;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageRequest;
import org.springframework.data.domain.Pageable;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.util.StringUtils;

import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;


@RunWith(SpringJUnit4ClassRunner.class)
@SpringBootTest(classes = MaintenApplication.class)
public class TestStearm {
	
	@Autowired
	EntityConfDao  enDao;

	@Autowired
	AlarmDao alarmDao;

	@Autowired
	InvokeInfoDao invokeInfoDao;

	RestFulIntegrage ri=new RestFulIntegrage();
	
	@Test
	public void test(){
		Map<String,String> queryMap=new HashMap<>();
		queryMap.put("record","sdsdsd");
		queryMap.put("ufo","2323");
		String url="127.0.0.1/@record/@ufo/@jkjk";
		Matcher m= Pattern.compile("(@(\\w+))").matcher(url);
		while (m.find()){
			System.out.println("m.group(1) = " + m.group(1));
			url= StringUtils.replace(url,m.group(1),queryMap.get(m.group(2)));
		}
		System.out.println("url = " + url);
	}


	@Test
	public void test2() throws ScriptException {
		String s="{\"status\":\"801\",\"messages\":\"成功\",\"servertime\":\"20171023134445034\",\"respdata\":[\n" +
				"  {\n" +
				"  \"f56e43b8-b9cc-403f-a2a0-3aafc9f31eba\":{\"rogue\":\"true\",\"name\":\"public-network\",\"subnets\":\"193beff2-494c-4d94-8d7c-a158c5b2df49\",\"region\":\"2372ec32-db0e-4cd2-bfb5-04cf810d8775\",\"ownerId\":\"417cb9e36ed64abc99be66e6edf8b28a\",\"ownerAccount\":\"admin\",\"projectName\":\"S03\",\"status\":\"ACTIVE\"},\n" +
				"  \"0af3bfb8-fb02-4ad6-b015-77d82a624a1b\":{\"rogue\":\"true\",\"name\":\"HA network tenant 417cb9e36ed64abc99be66e6edf8b28a\",\"subnets\":\"fc2e980d-c558-40a0-b9be-90405aa919d2\",\"region\":\"2372ec32-db0e-4cd2-bfb5-04cf810d8775\",\"ownerId\":\"\",\"ownerAccount\":\"admin\",\"status\":\"ACTIVE\"},\n" +
				"  \"62d3b1eb-26c0-4497-b94e-0338f9fd9801\":{\"rogue\":\"true\",\"name\":\"selfservice\",\"subnets\":\"ce196abf-ecb0-4922-8032-c05121d8d4b3\",\"region\":\"2372ec32-db0e-4cd2-bfb5-04cf810d8775\",\"ownerId\":\"417cb9e36ed64abc99be66e6edf8b28a\",\"ownerAccount\":\"admin\",\"projectName\":\"S01\",\"status\":\"ACTIVE\"},\n" +
				"  \"9d04c45f-b4ed-45bf-902b-a550ec74a7bc\":{\"rogue\":\"false\",\"ownerDc2\":\"admin\",\"name\":\"S03-Network\",\"subnets\":\"b1dfafd2-375d-4c1d-9c2a-53f17b75e273\",\"region\":\"2372ec32-db0e-4cd2-bfb5-04cf810d8775\",\"ownerId\":\"417cb9e36ed64abc99be66e6edf8b28a\",\"ownerAccount\":\"admin\",\"projectName\":\"S03\",\"status\":\"ACTIVE\"},\n" +
				"  \"e060450b-d7c2-4c3d-a0c7-560a269fc7bf\":{\"rogue\":\"true\",\"name\":\"@S01network\",\"subnets\":\"12613207-00a1-4f37-b25b-7755ccada571\",\"region\":\"2372ec32-db0e-4cd2-bfb5-04cf810d8775\",\"ownerId\":\"417cb9e36ed64abc99be66e6edf8b28a\",\"ownerAccount\":\"admin\",\"projectName\":\"S01\",\"status\":\"ACTIVE\"}\n" +
				"  }]}";
		String s2="[{\"id\":\"5.2\",\"parentId\":2,\"entityCode\":\"regionStatus\",\"entityName\":\"云区状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"云区状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":6,\"parentId\":5,\"entityCode\":\"regionName\",\"entityName\":\"云区名称\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"云区名称\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":9,\"parentId\":5,\"entityCode\":\"vcpuUsed\",\"entityName\":\"cpu使用数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu使用数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":10,\"parentId\":5,\"entityCode\":\"vcpuTotal\",\"entityName\":\"cpu总数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu总数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":11,\"parentId\":5,\"entityCode\":\"vcpuAvailable\",\"entityName\":\"cpu可用数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu可用数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":12,\"parentId\":5,\"entityCode\":\"vcpuUsedPercentage\",\"entityName\":\"cpu使用百分比\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu使用百分比\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":13,\"parentId\":5,\"entityCode\":\"memoryUsed\",\"entityName\":\"内存使用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"内存使用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":14,\"parentId\":5,\"entityCode\":\"memoryTotal\",\"entityName\":\"内存总量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"内存总量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":16,\"parentId\":5,\"entityCode\":\"memoryAvailable\",\"entityName\":\"内存可用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"内存可用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":17,\"parentId\":5,\"entityCode\":\"memoryUsedPercentage\",\"entityName\":\"内存使用百分比\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"内存使用百分比\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":18,\"parentId\":5,\"entityCode\":\"diskUsed\",\"entityName\":\"硬盘使用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"硬盘使用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":19,\"parentId\":5,\"entityCode\":\"diskTotal\",\"entityName\":\"硬盘总量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"硬盘总量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":20,\"parentId\":5,\"entityCode\":\"diskAvailable\",\"entityName\":\"硬盘可用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"硬盘可用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":21,\"parentId\":5,\"entityCode\":\"diskUsedPercentage\",\"entityName\":\"硬盘使用百分比\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"硬盘使用百分比\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":22,\"parentId\":5,\"entityCode\":\"instanceUsed\",\"entityName\":\"实例使用数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"实例使用数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":23,\"parentId\":5,\"entityCode\":\"instanceTotal\",\"entityName\":\"实例总数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"实例总数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":24,\"parentId\":5,\"entityCode\":\"instanceAvailable\",\"entityName\":\"实例可用数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"实例可用数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":25,\"parentId\":5,\"entityCode\":\"instanceUsedPercentage\",\"entityName\":\"实例可用百分比\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"实例可用百分比\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":26,\"parentId\":5,\"entityCode\":\"elasticIpUsed\",\"entityName\":\"ip使用数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"ip使用数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":27,\"parentId\":5,\"entityCode\":\"elasticIpTotal\",\"entityName\":\"IP总量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"IP总量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":28,\"parentId\":5,\"entityCode\":\"elasticIpAvailable\",\"entityName\":\"IP可用数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"IP可用数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":29,\"parentId\":5,\"entityCode\":\"elasticIpUsedPercentage\",\"entityName\":\"IP使用百分百\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"IP使用百分百\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":30,\"parentId\":5,\"entityCode\":\"securityGroupUsed\",\"entityName\":\"安全组使用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"安全组使用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":31,\"parentId\":5,\"entityCode\":\"securityGroupTotal\",\"entityName\":\"安全组总量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"安全组总量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":32,\"parentId\":5,\"entityCode\":\"securityGroupAvailable\",\"entityName\":\"安全组可用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"安全组可用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":33,\"parentId\":5,\"entityCode\":\"securityGroupUsedPercentage\",\"entityName\":\"安全组使用百分比\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"安全组使用百分比\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":34,\"parentId\":5,\"entityCode\":\"volumeUsed\",\"entityName\":\"卷使用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"卷使用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":35,\"parentId\":5,\"entityCode\":\"volumeTotal\",\"entityName\":\"卷总量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"卷总量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":36,\"parentId\":5,\"entityCode\":\"volumeAvailable\",\"entityName\":\"卷可用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"卷可用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":37,\"parentId\":5,\"entityCode\":\"volumeUsedPercentage\",\"entityName\":\"卷使用百分比\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"卷使用百分比\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]},{\"id\":55,\"parentId\":3,\"entityCode\":\"services\",\"entityName\":\"大数据服务状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"大数据服务状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":56,\"parentId\":55,\"entityCode\":\"name\",\"entityName\":\"服务名称\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"服务名称\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":57,\"parentId\":55,\"entityCode\":\"healthSummary\",\"entityName\":\" 健康状况\",\"hierarchy\":3,\"type\":\"6\",\"text\":\" 健康状况\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":25,\"entityId\":57,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":26,\"entityId\":57,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":27,\"entityId\":57,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":28,\"entityId\":57,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":29,\"entityId\":57,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":30,\"entityId\":57,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]}]},{\"id\":58,\"parentId\":3,\"entityCode\":\"cmServices\",\"entityName\":\"cloudera服务状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"cloudera服务状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":59,\"parentId\":58,\"entityCode\":\"name\",\"entityName\":\"cloudera服务名称\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"cloudera服务名称\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":60,\"parentId\":58,\"entityCode\":\"summary\",\"entityName\":\"健康状态\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"健康状态\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":31,\"entityId\":60,\"name\":\"健康状态\",\"dicText\":\"DISABLED\",\"dicValue\":\" 不可用\"},{\"id\":32,\"entityId\":60,\"name\":\"健康状态\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":33,\"entityId\":60,\"name\":\"健康状态\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":34,\"entityId\":60,\"name\":\"健康状态\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":35,\"entityId\":60,\"name\":\"健康状态\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":36,\"entityId\":60,\"name\":\"健康状态\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]}]},{\"id\":61,\"parentId\":3,\"entityCode\":\"hostsStatus\",\"entityName\":\"cloudera主机状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"cloudera主机状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":62,\"parentId\":61,\"entityCode\":\"hostId\",\"entityName\":\"主机ID\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"主机ID\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":63,\"parentId\":61,\"entityCode\":\"HOST_AGENT_LOG_DIRECTORY_FREE_SPACE\",\"entityName\":\"HOST_AGENT_LOG_DIRECTORY_FREE_SPACE\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_AGENT_LOG_DIRECTORY_FREE_SPACE\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":37,\"entityId\":63,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":38,\"entityId\":63,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":39,\"entityId\":63,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":40,\"entityId\":63,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":41,\"entityId\":63,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":42,\"entityId\":63,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":64,\"parentId\":61,\"entityCode\":\"HOST_AGENT_PARCEL_DIRECTORY_FREE_SPACE\",\"entityName\":\"HOST_AGENT_PARCEL_DIRECTORY_FREE_SPACE\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_AGENT_PARCEL_DIRECTORY_FREE_SPACE\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":43,\"entityId\":64,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":44,\"entityId\":64,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":45,\"entityId\":64,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":46,\"entityId\":64,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":47,\"entityId\":64,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":48,\"entityId\":64,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":65,\"parentId\":61,\"entityCode\":\"HOST_AGENT_PROCESS_DIRECTORY_FREE_SPACE\",\"entityName\":\"HOST_AGENT_PROCESS_DIRECTORY_FREE_SPACE\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_AGENT_PROCESS_DIRECTORY_FREE_SPACE\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":49,\"entityId\":65,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":50,\"entityId\":65,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":51,\"entityId\":65,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":52,\"entityId\":65,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":53,\"entityId\":65,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":54,\"entityId\":65,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":66,\"parentId\":61,\"entityCode\":\"HOST_CLOCK_OFFSET\",\"entityName\":\"HOST_CLOCK_OFFSET\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_CLOCK_OFFSET\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":55,\"entityId\":66,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":56,\"entityId\":66,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":57,\"entityId\":66,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":58,\"entityId\":66,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":59,\"entityId\":66,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":60,\"entityId\":66,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":67,\"parentId\":61,\"entityCode\":\"HOST_DNS_RESOLUTION\",\"entityName\":\"HOST_DNS_RESOLUTION\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_DNS_RESOLUTION\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":61,\"entityId\":67,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":62,\"entityId\":67,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":63,\"entityId\":67,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":64,\"entityId\":67,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":65,\"entityId\":67,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":66,\"entityId\":67,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":68,\"parentId\":61,\"entityCode\":\"HOST_MEMORY_SWAPPING\",\"entityName\":\"HOST_MEMORY_SWAPPING\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_MEMORY_SWAPPING\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":67,\"entityId\":68,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":68,\"entityId\":68,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":69,\"entityId\":68,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":70,\"entityId\":68,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":71,\"entityId\":68,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":72,\"entityId\":68,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":69,\"parentId\":61,\"entityCode\":\"HOST_NETWORK_FRAME_ERRORS\",\"entityName\":\"HOST_NETWORK_FRAME_ERRORS\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_NETWORK_FRAME_ERRORS\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":73,\"entityId\":69,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":74,\"entityId\":69,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":75,\"entityId\":69,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":76,\"entityId\":69,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":77,\"entityId\":69,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":78,\"entityId\":69,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":70,\"parentId\":61,\"entityCode\":\"HOST_NETWORK_INTERFACES_SLOW_MODE\",\"entityName\":\"HOST_NETWORK_INTERFACES_SLOW_MODE\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_NETWORK_INTERFACES_SLOW_MODE\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":79,\"entityId\":70,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":80,\"entityId\":70,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":81,\"entityId\":70,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":82,\"entityId\":70,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":83,\"entityId\":70,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":84,\"entityId\":70,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]},{\"id\":71,\"parentId\":61,\"entityCode\":\"HOST_SCM_HEALTH\",\"entityName\":\"HOST_SCM_HEALTH\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"HOST_SCM_HEALTH\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":85,\"entityId\":71,\"name\":\" 健康状况\",\"dicText\":\"DISABLED\",\"dicValue\":\"不可用\"},{\"id\":86,\"entityId\":71,\"name\":\" 健康状况\",\"dicText\":\"HISTORY_NOT_AVAILABLE\",\"dicValue\":\"没有历史数据\"},{\"id\":87,\"entityId\":71,\"name\":\" 健康状况\",\"dicText\":\"NOT_AVAILABLE\",\"dicValue\":\"状态不确定\"},{\"id\":88,\"entityId\":71,\"name\":\" 健康状况\",\"dicText\":\"GOOD\",\"dicValue\":\"良好\"},{\"id\":89,\"entityId\":71,\"name\":\" 健康状况\",\"dicText\":\"CONCERNING\",\"dicValue\":\"需要关注\"},{\"id\":90,\"entityId\":71,\"name\":\" 健康状况\",\"dicText\":\"BAD\",\"dicValue\":\"不良\"}]}]},{\"id\":80,\"parentId\":2,\"entityCode\":\"cpu_report\",\"entityName\":\"各节点物理服务器CPU使用情况\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"各节点物理服务器CPU使用情况\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":82,\"parentId\":80,\"entityCode\":\"host_name\",\"entityName\":\"IP地址\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"IP地址\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":83,\"parentId\":80,\"entityCode\":\"host\",\"entityName\":\"节点名称\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"节点名称\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":84,\"parentId\":80,\"entityCode\":\"metric_name\",\"entityName\":\"测量单位\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"测量单位\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":85,\"parentId\":80,\"entityCode\":\"ds_name\",\"entityName\":\"ds_name\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"ds_name\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":86,\"parentId\":80,\"entityCode\":\"cpu_steal_avg\",\"entityName\":\"cpu_steal_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu_steal_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":100,\"parentId\":80,\"entityCode\":\"cpu_idle_avg\",\"entityName\":\"cpu_idle_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu_idle_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":101,\"parentId\":80,\"entityCode\":\"cpu_nice_avg\",\"entityName\":\"cpu_nice_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu_nice_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":102,\"parentId\":80,\"entityCode\":\"cpu_system_avg\",\"entityName\":\"cpu_system_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu_system_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":103,\"parentId\":80,\"entityCode\":\"cpu_user_avg\",\"entityName\":\"cpu_user_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu_user_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":104,\"parentId\":80,\"entityCode\":\"cpu_wio_avg\",\"entityName\":\"cpu_wio_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"cpu_wio_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]},{\"id\":87,\"parentId\":2,\"entityCode\":\"mem_report\",\"entityName\":\"各节点物理服务器内存使用情况\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"各节点物理服务器内存使用情况\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":89,\"parentId\":87,\"entityCode\":\"host_name\",\"entityName\":\"IP地址\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"IP地址\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":90,\"parentId\":87,\"entityCode\":\"host\",\"entityName\":\"节点名称\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"节点名称\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":91,\"parentId\":87,\"entityCode\":\"metric_name\",\"entityName\":\"测量单位\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"测量单位\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":92,\"parentId\":87,\"entityCode\":\"ds_name\",\"entityName\":\"ds_name\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"ds_name\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":93,\"parentId\":87,\"entityCode\":\"bmem_buffers_avg\",\"entityName\":\"bmem_buffers_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"bmem_buffers_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":105,\"parentId\":87,\"entityCode\":\"bmem_cached_avg\",\"entityName\":\"bmem_cached_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"bmem_cached_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":106,\"parentId\":87,\"entityCode\":\"bmem_free_avg\",\"entityName\":\"bmem_free_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"bmem_free_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":107,\"parentId\":87,\"entityCode\":\"bmem_shared_avg\",\"entityName\":\"bmem_shared_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"bmem_shared_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":108,\"parentId\":87,\"entityCode\":\"bmem_swapped_avg\",\"entityName\":\"bmem_swapped_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"bmem_swapped_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":109,\"parentId\":87,\"entityCode\":\"bmem_total_avg\",\"entityName\":\"bmem_total_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"bmem_total_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":110,\"parentId\":87,\"entityCode\":\"bmem_used_avg\",\"entityName\":\"bmem_used_avg\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"bmem_used_avg\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]},{\"id\":94,\"parentId\":2,\"entityCode\":\"network_report\",\"entityName\":\"各节点物理服务器网络使用情况\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"各节点物理服务器网络使用情况\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":96,\"parentId\":94,\"entityCode\":\"host_name\",\"entityName\":\"IP地址\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"IP地址\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":97,\"parentId\":94,\"entityCode\":\"host\",\"entityName\":\"节点名称\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"节点名称\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":98,\"parentId\":94,\"entityCode\":\"ds_name\",\"entityName\":\"ds_name\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"ds_name\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":99,\"parentId\":94,\"entityCode\":\"a0_avg\",\"entityName\":\"输入平均值\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"输入平均值\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":111,\"parentId\":94,\"entityCode\":\"a1_avg\",\"entityName\":\"输出平均值\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"输出平均值\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]},{\"id\":112,\"parentId\":2,\"entityCode\":\"keystone\",\"entityName\":\"keystone状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"keystone状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":113,\"parentId\":112,\"entityCode\":\"orchestration\",\"entityName\":\"orchestration\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"orchestration\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":92,\"entityId\":113,\"name\":\"orchestration\",\"dicText\":\"true\",\"dicValue\":\"是\"},{\"id\":93,\"entityId\":113,\"name\":\"orchestration\",\"dicText\":\"false\",\"dicValue\":\"否\"}]},{\"id\":114,\"parentId\":112,\"entityCode\":\"compute\",\"entityName\":\"compute\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"compute\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":94,\"entityId\":114,\"name\":\"compute\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":95,\"entityId\":114,\"name\":\"compute\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":115,\"parentId\":112,\"entityCode\":\"metering\",\"entityName\":\"metering\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"metering\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":96,\"entityId\":115,\"name\":\"metering\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":97,\"entityId\":115,\"name\":\"metering\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":116,\"parentId\":112,\"entityCode\":\"volumev2\",\"entityName\":\"volumev2\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"volumev2\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":98,\"entityId\":116,\"name\":\"volumev2\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":99,\"entityId\":116,\"name\":\"volumev2\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":117,\"parentId\":112,\"entityCode\":\"volume\",\"entityName\":\"volume\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"volume\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":100,\"entityId\":117,\"name\":\"volume\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":101,\"entityId\":117,\"name\":\"volume\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":118,\"parentId\":112,\"entityCode\":\"image\",\"entityName\":\"image\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"image\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":102,\"entityId\":118,\"name\":\"image\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":103,\"entityId\":118,\"name\":\"image\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":119,\"parentId\":112,\"entityCode\":\"network\",\"entityName\":\"network\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"network\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":104,\"entityId\":119,\"name\":\"network\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":105,\"entityId\":119,\"name\":\"network\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":120,\"parentId\":112,\"entityCode\":\"alarming\",\"entityName\":\"alarming\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"alarming\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":106,\"entityId\":120,\"name\":\"alarming\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":107,\"entityId\":120,\"name\":\"alarming\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":121,\"parentId\":112,\"entityCode\":\"identity\",\"entityName\":\"identity\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"identity\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":108,\"entityId\":121,\"name\":\"identity\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":109,\"entityId\":121,\"name\":\"identity\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":122,\"parentId\":112,\"entityCode\":\"cloudformation\",\"entityName\":\"cloudformation\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"cloudformation\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":110,\"entityId\":122,\"name\":\"cloudformation\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":111,\"entityId\":122,\"name\":\"cloudformation\",\"dicText\":\"false\",\"dicValue\":\"false\"}]}]},{\"id\":123,\"parentId\":2,\"entityCode\":\"network\",\"entityName\":\"虚拟网络运行情况\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"虚拟网络运行情况\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":124,\"parentId\":123,\"entityCode\":\"networkId\",\"entityName\":\"networkId\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"networkId\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":125,\"parentId\":123,\"entityCode\":\"name\",\"entityName\":\"名称\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"名称\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":126,\"parentId\":123,\"entityCode\":\"status\",\"entityName\":\"状态\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"状态\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":112,\"entityId\":126,\"name\":\"状态\",\"dicText\":\"ACTIVE\",\"dicValue\":\"ACTIVE\"}]}]},{\"id\":127,\"parentId\":2,\"entityCode\":\"virtualmachine\",\"entityName\":\"虚拟机运行情况\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"虚拟机运行情况\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":129,\"parentId\":127,\"entityCode\":\"vmId\",\"entityName\":\"虚拟机ID\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"虚拟机ID\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":130,\"parentId\":127,\"entityCode\":\"vmName\",\"entityName\":\"虚拟机ID\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"虚拟机ID\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":131,\"parentId\":127,\"entityCode\":\"privateIp\",\"entityName\":\"私网IP\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"私网IP\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":132,\"parentId\":127,\"entityCode\":\"publicIp\",\"entityName\":\"IP\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"IP\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":133,\"parentId\":127,\"entityCode\":\"activated\",\"entityName\":\"是否运行\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"是否运行\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":113,\"entityId\":133,\"name\":\"是否运行\",\"dicText\":\"true\",\"dicValue\":\"是\"},{\"id\":114,\"entityId\":133,\"name\":\"是否运行\",\"dicText\":\"false\",\"dicValue\":\"否\"}]},{\"id\":134,\"parentId\":127,\"entityCode\":\"status\",\"entityName\":\"状态\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"状态\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":115,\"entityId\":134,\"name\":\"状态\",\"dicText\":\"running\",\"dicValue\":\"运行\"}]}]},{\"id\":135,\"parentId\":2,\"entityCode\":\"mongodb\",\"entityName\":\"mongodb状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"mongodb状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":136,\"parentId\":135,\"entityCode\":\"dbname\",\"entityName\":\"名称\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"名称\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":137,\"parentId\":135,\"entityCode\":\"status\",\"entityName\":\"状态\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"状态\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":116,\"entityId\":137,\"name\":\"状态\",\"dicText\":\"true\",\"dicValue\":\"正常\"},{\"id\":117,\"entityId\":137,\"name\":\"状态\",\"dicText\":\"false\",\"dicValue\":\"异常\"}]}]},{\"id\":138,\"parentId\":2,\"entityCode\":\"cinder\",\"entityName\":\"cinder服务组件状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"cinder服务组件状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":139,\"parentId\":138,\"entityCode\":\"id\",\"entityName\":\"ID\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"ID\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":140,\"parentId\":138,\"entityCode\":\"host\",\"entityName\":\"host\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"host\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":141,\"parentId\":138,\"entityCode\":\"deleted\",\"entityName\":\"deleted\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"deleted\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":118,\"entityId\":141,\"name\":\"deleted\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":119,\"entityId\":141,\"name\":\"deleted\",\"dicText\":\"false\",\"dicValue\":\"false\"}]},{\"id\":142,\"parentId\":138,\"entityCode\":\"disabled\",\"entityName\":\"disabled\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"disabled\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":120,\"entityId\":142,\"name\":\"disabled\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":121,\"entityId\":142,\"name\":\"disabled\",\"dicText\":\"false\",\"dicValue\":\"false\"}]}]},{\"id\":143,\"parentId\":2,\"entityCode\":\"nova\",\"entityName\":\"nova状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"nova状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":144,\"parentId\":143,\"entityCode\":\"id\",\"entityName\":\"ID\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"ID\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":145,\"parentId\":143,\"entityCode\":\"deleted\",\"entityName\":\"deleted\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"deleted\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":122,\"entityId\":145,\"name\":\"deleted\",\"dicText\":\"0\",\"dicValue\":\"0\"}]},{\"id\":146,\"parentId\":143,\"entityCode\":\"disabled\",\"entityName\":\"disabled\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"disabled\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":123,\"entityId\":146,\"name\":\"disabled\",\"dicText\":\"true\",\"dicValue\":\"true\"},{\"id\":124,\"entityId\":146,\"name\":\"disabled\",\"dicText\":\"false\",\"dicValue\":\"false\"}]}]},{\"id\":147,\"parentId\":2,\"entityCode\":\"mysql\",\"entityName\":\"mysql状态\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"mysql状态\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":148,\"parentId\":147,\"entityCode\":\"dbname\",\"entityName\":\"dbname\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"dbname\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":149,\"parentId\":147,\"entityCode\":\"connectStatus\",\"entityName\":\"链接状态\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"链接状态\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":125,\"entityId\":149,\"name\":\"链接状态\",\"dicText\":\"1\",\"dicValue\":\"正常\"},{\"id\":126,\"entityId\":149,\"name\":\"链接状态\",\"dicText\":\"0\",\"dicValue\":\"不正常\"}]}]},{\"id\":156,\"parentId\":2,\"entityCode\":\"dc2utility_g\",\"entityName\":\"dc2utility_g\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"dc2utility_g\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":157,\"parentId\":156,\"entityCode\":\"regionName\",\"entityName\":\"云区名称\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"云区名称\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":158,\"parentId\":156,\"entityCode\":\"dc2utility\",\"entityName\":\"dc2utility\",\"hierarchy\":3,\"type\":\"6\",\"text\":\"dc2utility\",\"leaf\":\"true\",\"iconCls\":\"icon-record\",\"child\":[{\"id\":127,\"entityId\":158,\"name\":\"dc2utility\",\"dicText\":\"1\",\"dicValue\":\"正常\"},{\"id\":128,\"entityId\":158,\"name\":\"dc2utility\",\"dicText\":\"0\",\"dicValue\":\"不正常\"}]}]},{\"id\":164,\"parentId\":2,\"entityCode\":\"p_disk\",\"entityName\":\"物理机磁盘使用情况\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"物理机磁盘使用情况\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":166,\"parentId\":164,\"entityCode\":\"ip\",\"entityName\":\"IP\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"IP\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":167,\"parentId\":164,\"entityCode\":\"diskTotalavg\",\"entityName\":\"磁盘总量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"磁盘总量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":168,\"parentId\":164,\"entityCode\":\"diskUsedavg\",\"entityName\":\"磁盘使用量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"磁盘使用量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":169,\"parentId\":164,\"entityCode\":\"diskFreeavg\",\"entityName\":\"磁盘空闲量\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"磁盘空闲量\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]},{\"id\":170,\"parentId\":164,\"entityCode\":\"usePercent\",\"entityName\":\"使用百分比\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"使用百分比\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]},{\"id\":171,\"parentId\":4,\"entityCode\":\"safe\",\"entityName\":\"安全事件\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"安全事件\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":174,\"parentId\":171,\"entityCode\":\"time\",\"entityName\":\"事件\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"事件\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":175,\"parentId\":171,\"entityCode\":\"frequency\",\"entityName\":\"次数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"次数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]},{\"id\":172,\"parentId\":4,\"entityCode\":\"waring\",\"entityName\":\"告警事件\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"告警事件\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":176,\"parentId\":172,\"entityCode\":\"time\",\"entityName\":\"时间\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"时间\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":177,\"parentId\":172,\"entityCode\":\"frequency\",\"entityName\":\"次数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"次数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]},{\"id\":173,\"parentId\":4,\"entityCode\":\"attack\",\"entityName\":\"攻击事件\",\"hierarchy\":2,\"type\":\"5\",\"text\":\"攻击事件\",\"leaf\":\"false\",\"iconCls\":\"icon-recordgroup\",\"child\":[{\"id\":178,\"parentId\":173,\"entityCode\":\"time\",\"entityName\":\"时间\",\"hierarchy\":3,\"type\":\"8\",\"text\":\"时间\",\"leaf\":\"true\",\"iconCls\":\"icon-key\",\"child\":[]},{\"id\":179,\"parentId\":173,\"entityCode\":\"frequency\",\"entityName\":\"次数\",\"hierarchy\":3,\"type\":\"7\",\"text\":\"次数\",\"leaf\":\"true\",\"iconCls\":\"icon-field\",\"child\":[]}]}]";

		ScriptEngineManager manager = new ScriptEngineManager();
		ScriptEngine engine = manager.getEngineByName("javascript");
		engine.eval("var obj="+s2);
		Object ooo=engine.get("obj");
		//jdk.nashorn.api.scripting.ScriptObjectMirror java.lang.Integer java.lang.Double java.lang.String
		System.out.println("ooo.getClass().getName() = " + ooo.getClass().getName());
		ScriptObjectMirror obj= (ScriptObjectMirror) engine.get("obj");
		ScriptObjectMirror obj1= (ScriptObjectMirror) obj.get("0");
		System.out.println(obj1.get("id").getClass().getName());
		System.out.println("obj1.get(\"id\") = " +obj.getClassName());
				
	}

	@Test
	public void test3(){
		InvokeEntity en=invokeInfoDao.findOne(2);
		ThreadResultData trd=new ThreadResultData();
		InvokeUniversal invoke=new InvokeUniversal("records");
		Map<String ,String> queryMap=new HashMap<>();
		queryMap.put("entityId","58");
		en.setQueryMap(queryMap);
		invoke.setHttpMethod(RestfulClient.Method.POST);
		invoke.setUrl(en.getUrl());
		invoke.setRequestBody(en.parseBody());
		invoke.setRequstHead(en.parseHead());
		trd.addInvoker(invoke);
		try {
			trd.waitForResult();
		} catch (InvokeTimeOutException e) {
			e.printStackTrace();
		}
	}

	@Test
	public void test4(){
		InvokeEntity en=InvokeInfo.getInstance(2);
		ThreadResultData trd=new ThreadResultData();
		//trd.sleep(1000L);
		trd.setTimeOut(1000*20L);
		Map<String,String> queryMap=new HashMap<>();
		queryMap.put("entityId","58");
		en.setQueryMap(queryMap);
		ri.invoke(en,trd);
		try {
			trd.waitForResult();
		} catch (InvokeTimeOutException e) {
			e.printStackTrace();
		}
		trd.invokeNames().forEach(System.out::println);
		String s=trd.getResult("records-15").getArrayJson();
		System.out.println("s = " + s);

	}

	@Test
	public void test5() {
		InvokeEntity en=InvokeInfo.getInstance(3);
		PropertiesConf pconf=(PropertiesConf) SpringUtil.getBean("propertiesConf");
		Map<String, String> requestMap= pconf.getRequestMap();
		requestMap.putAll(pconf.getHeadMap());
		en.setQueryMap(requestMap);
		RestFulIntegrage ri=new RestFulIntegrage();
		ThreadResultData trd=new ThreadResultData();
		trd.sleep(500L);
		trd.setTimeOut(1000*100L);

		ri.invoke(en,trd);
		try {
			trd.waitForResult();
		} catch (InvokeTimeOutException e) {
			e.printStackTrace();
		}
	}

	@Test
	public void test6(){
		Pageable pa = new PageRequest(0, 5);
		Page<Alarm> page=alarmDao.findByPlateIdAndStep(2,null,pa);
		List<Alarm> list=page.getContent();
		System.out.println("list.size() = " + page.getTotalElements());

	}

	@Test
	public void test7(){
		Page<Alarm> page=alarmDao.queryAlarms(2,"2",null,null,null,"syu",1,5);
	}




}
